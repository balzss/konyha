type Tag {
  id: String!
  name: String!
}

type Recipe {
  id: String!
  slug: String!
  name: String!
  description: String
  ingredients: [String!]
  instructions: [String!]
  tags: [Tag!]
}

query GetRecipes($where: RecipesWhereInput) {
  recipes(where: $where) {
    id
    name
    slug
    description
    ingredients
    instructions
    tags {
      id
      name
    }
  }
}

query GetTags {
  tags {
    id
    name
  }
}

mutation DeleteRecipe ($recipeSlug: String!) {
  deleteRecipe(slug: $recipeSlug)
}

input RecipesWhereInput {
  slug: String
}

input RecipeUpdateInput {
  name: String!
  slug: String!
  description: String
  ingredients: [String!]
  instructions: [String!]
  tagsConnect: [String!]
  tagsCreate: [String!]
}

mutation UpdateRecipe ($recipeSlug: String!, $recipeData: RecipeUpdateInput!) {
  updateRecipe(slug: $recipeSlug, data: $recipeData) {
    id
    slug
  }
}

type Query {
  recipes(where: RecipesWhereInput): [Recipe!]!
  tags: [Tag]
}

type Mutation {
  deleteRecipe(slug: String!): Boolean
  updateRecipe(slug: String!, data: RecipeUpdateInput): Recipe
}
